local UnityPropertyProxy = require("LuaFramework/UnityPropertyProxy")
local UnityFieldProxy = require("LuaFramework/UnityFieldProxy")
local UnityEventProxy = require("LuaFramework/UnityEventProxy")

local UnityTargetProxyFactory = class("UnityTargetProxyFactory")

function UnityTargetProxyFactory:ctor()
    
end

function UnityTargetProxyFactory:CreateProxy(target, description)
    local object = {}
    local memberInfo = target[description.TargetName]
    if not memberInfo then
        error("")        
        return
    end

    local updateTrigger = nil
    if description.UpdateTrigger and description.UpdateTrigger ~= "" then
        local updateTriggerInfo = target[description.UpdateTrigger]
        
        if not updateTriggerInfo then
            error("")
            return            
        end
    end

    if type(memberInfo) == "userdata" then
        return self:CreateUnityEventProxy(target, memberInfo, updateTrigger)
    else
        return
    end
end

function UnityTargetProxyFactory:CreateUnityPropertyProxy(target, propertyInfo, updateTrigger)
    return UnityPropertyProxy(target, propertyInfo, updateTrigger)
end

function UnityTargetProxyFactory:CreateUnityFieldProxy(target, fieldInfo, updateTrigger)
    return UnityFieldProxy(target, fieldInfo, updateTrigger);
end

function UnityTargetProxyFactory:CreateUnityEventProxy(target, unityEvent)
    return UnityEventProxy(target, unityEvent);
end

return UnityTargetProxyFactory